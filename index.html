<!DOCTYPE html>
<html lang="ja">
<head>
<title>FixScroll</title>
<style>

	#log {
		padding: 5px 10px;
		width: 200px;
		max-height: 300px;
		position: fixed;
		top: 10px;
		right: 10px;
		overflow: auto;
		background: #fff;
		font-size: 12px;
	}

		#log p {
			margin: 0;
			border-bottom: dotted #666 1px;
			padding: 5px 0;
		}
		#log p:last-child {
			border: none;
		}

	.boxParent {
		height: 5000px;
		background: #555;
	}

		#box {
			padding: 150px 0;
			width: 400px;
			height: 3000px;
			position: relative;
			background: #999;
		}

			.box-header {
				width: 400px;
				height: 150px;
				position: absolute;
				top: 0;
				left: 0;
				background: #eee;
				line-height: 150px;
				text-align: center;
			}

			#flex-box {
				width: 400px;
				height: 150px;
				background: #f00;
				line-height: 150px;
				text-align: center;
			}

			.box-footer {
				width: 400px;
				height: 150px;
				position: absolute;
				bottom: 0;
				left: 0;
				background: #eee;
				line-height: 150px;
				text-align: center;
			}

</style>

</head>
<body>

<div id="log"></div>

<div class="boxParent">
	<div id="box">
		<div class="box-header">box-header</div>
		<div id="flex-box">flexible position</div>
		<div class="box-footer">box-footer</div>
	</div>
</div>

<script src="src/fixscroll.js"></script>
<script>
	var logNode = document.getElementById('log');
	function log(msg) {
		var p = document.createElement('p'),
			text = document.createTextNode(msg);

		p.appendChild(text);
		logNode.appendChild(p);
	}

	FixScroll('flex-box', {
		parent: 'box'
	}).bind('.locked', function() {
		log('locked');
	}).bind('.bottomlocked', function() {
		log('bottomlocked');
	}).bind('.unlocked', function() {
		log('unlocked');
	});
</script>
</body>
</html>